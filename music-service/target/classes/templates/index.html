<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MusicStream - Главная</title>
    <link rel="stylesheet" th:href="@{/static/css/style-uni.css}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
<!-- Главный контейнер -->
<div class="container">

    <!-- Верхний плеер -->
    <div class="top-player">
        <div class="player-controls">
            <button class="player-btn" onclick="skipBackward()">
                <i class="fas fa-step-backward"></i>
            </button>
            <button class="player-btn play-btn" onclick="togglePlay()">
                <i class="fas fa-play" id="play-icon"></i>
            </button>
            <button class="player-btn" onclick="skipForward()">
                <i class="fas fa-step-forward"></i>
            </button>

            <div class="track-info">
                <div class="track-title">Now Playing: <span id="current-track">Dreams - Fleetwood Mac</span></div>
                <div class="track-progress">
                    <div class="progress-bar" id="progress-bar">
                        <div class="progress" id="progress"></div>
                    </div>
                    <div class="time">
                        <span id="current-time">0:00</span> / <span id="total-time">4:18</span>
                    </div>
                </div>
            </div>

            <div class="volume-control">
                <i class="fas fa-volume-up"></i>
                <input type="range" id="volume" min="0" max="100" value="70" onchange="changeVolume(this.value)">
            </div>
        </div>

        <div class="user-section">
            <button class="login-btn" onclick="toggleLogin()">
                <i class="fas fa-user"></i>
                <span id="login-text">Войти</span>
            </button>
            <div class="login-dropdown" id="login-dropdown">
                <input type="text" placeholder="Email" class="login-input">
                <input type="password" placeholder="Пароль" class="login-input">
                <button class="login-submit">Войти</button>
                <a href="#" class="register-link">Зарегистрироваться</a>
            </div>
        </div>
    </div>

    <!-- Навигация -->
    <nav class="main-nav">
        <a href="#" class="nav-link active">
            <i class="fas fa-home"></i>
            <span>Главная</span>
        </a>
        <a href="#" class="nav-link">
            <i class="fas fa-music"></i>
            <span>Моя музыка</span>
        </a>
        <a href="#" class="nav-link">
            <i class="fas fa-list"></i>
            <span>Плейлисты</span>
        </a>
        <a href="#" class="nav-link">
            <i class="fas fa-compass"></i>
            <span>Поиск</span>
        </a>
    </nav>

    <!-- Поиск -->
    <div class="search-section">
        <div class="search-bar">
            <i class="fas fa-search"></i>
            <input type="text" placeholder="Искать треки, артистов, альбомы..." id="search-input">
            <button class="search-btn" onclick="performSearch()">Найти</button>
        </div>
        <div class="search-filters">
            <button class="filter-btn active">Все</button>
            <button class="filter-btn">Треки</button>
            <button class="filter-btn">Артисты</button>
            <button class="filter-btn">Альбомы</button>
            <button class="filter-btn">Плейлисты</button>
        </div>
    </div>

    <!-- Основной контент -->
    <div class="main-content">
        <!-- Популярные треки -->
        <section class="section">
            <h2 class="section-title">
                <i class="fas fa-fire"></i>
                Популярные треки
            </h2>
            <div class="tracks-grid" id="popular-tracks">
                <!-- Треки будут загружаться здесь -->
            </div>
        </section>

        <!-- Чарт -->
        <section class="section">
            <h2 class="section-title">
                <i class="fas fa-chart-line"></i>
                Топ-чарт
            </h2>
            <div class="chart-container">
                <table class="chart-table">
                    <thead>
                    <tr>
                        <th>#</th>
                        <th>Трек</th>
                        <th>Артист</th>
                        <th>Альбом</th>
                        <th><i class="far fa-clock"></i></th>
                        <th>Прослушиваний</th>
                    </tr>
                    </thead>
                    <tbody id="chart-table">
                    <!-- Чарт будет загружаться здесь -->
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Рекомендации -->
        <section class="section">
            <h2 class="section-title">
                <i class="fas fa-star"></i>
                Рекомендуем для вас
            </h2>
            <div class="recommendations-grid" id="recommendations">
                <!-- Рекомендации будут загружаться здесь -->
            </div>
        </section>
    </div>

    <!-- Футер -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-logo">
                <i class="fas fa-headphones"></i>
                <span>MusicStream</span>
            </div>
            <div class="footer-links">
                <a href="#">О нас</a>
                <a href="#">Контакты</a>
                <a href="#">Политика конфиденциальности</a>
                <a href="#">Условия использования</a>
            </div>
            <div class="footer-social">
                <a href="#"><i class="fab fa-vk"></i></a>
                <a href="#"><i class="fab fa-telegram"></i></a>
                <a href="#"><i class="fab fa-youtube"></i></a>
                <a href="#"><i class="fab fa-github"></i></a>
            </div>
            <div class="footer-copyright">
                © 2024 MusicStream. Все права защищены.
            </div>
        </div>
    </footer>
</div>

<!-- Модальное окно для входа -->
<div class="modal-overlay" id="login-modal">
    <div class="modal">
        <h2>Вход в аккаунт</h2>
        <form class="modal-form">
            <input type="email" placeholder="Email" required>
            <input type="password" placeholder="Пароль" required>
            <button type="submit" class="modal-submit">Войти</button>
            <button type="button" class="modal-cancel" onclick="closeModal()">Отмена</button>
        </form>
        <p class="modal-footer">
            Нет аккаунта? <a href="#" onclick="showRegister()">Зарегистрироваться</a>
        </p>
    </div>
</div>

<!-- Скрипты -->
<script th:src="@{/static/js/player.js}"></script>
<script th:src="@{/static/js/search.js}"></script>
<script th:src="@{/static/js/data.js}"></script>
</body>
</html>